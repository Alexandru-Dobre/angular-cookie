angular.module("ivpusic.cookie",["ng"]).factory("ipCookie",["$document",function(e){"use strict";return function(){function t(t,n,r){var i,s,o,u,a,f,l,c,h;r=r||{};if(n!==undefined){n=typeof n==="object"?JSON.stringify(n):String(n);if(typeof r.expires==="number"){h=r.expires;r.expires=new Date;if(h===-1){r.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT")}else{if(r.expirationUnit!==undefined){if(r.expirationUnit==="minutes"){r.expires.setMinutes(r.expires.getMinutes()+h)}else{r.expires.setDate(r.expires.getDate()+h)}}else{r.expires.setDate(r.expires.getDate()+h)}}}return e[0].cookie=[encodeURIComponent(t),"=",encodeURIComponent(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}s=[];c=e[0].cookie;if(c){s=c.split("; ")}i={};l=false;for(o=0;o<s.length;++o){if(s[o]){u=s[o];a=u.indexOf("=");f=u.substring(0,a);n=decodeURIComponent(u.substring(a+1));if(t===undefined||t===f){try{i[f]=JSON.parse(n)}catch(p){i[f]=n}if(t===f){return i[f]}l=true}}}if(l&&t===undefined){return i}}t.remove=function(e,n){var r=t(e)!==undefined;if(r){if(!n){n={}}n.expires=-1;t(e,"",n)}return r};return t}()}])